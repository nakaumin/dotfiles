<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Apache 2.0.x （Microsoft Windows 用）</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="install.windows.apache1.html">Apache 1.3.x （Microsoft Windows 用）</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="install.windows.sun.html">Sun, iPlanet, Netscape サーバ（Microsoft Windows 用）</a></div>
 <div class="up"><a href="install.windows.html">Windows システムへのインストール</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="install.windows.apache2" class="sect1">
    <h2 class="title">Apache 2.0.x （Microsoft Windows 用）</h2>
    <p class="para">
     このセクションでは、Microsoft Windows 上の Apache 2.0.x で PHP 
     を使用する場合について説明します。
     <a href="install.windows.apache1.html" class="link">Apache 1.3 で PHP を使用する場合</a>
     については別に記載されています。
    </p>
    <blockquote><p><b class="note">注意</b>: 
     
      まず始めに、<a href="install.windows.manual.html" class="link">マニュアルインストールの手順</a> 
      をお読みください。
     <br />
    </p></blockquote>
    <blockquote><p><b class="note">注意</b>: 
     <b>Apache 2.2.x のサポート</b><br />
     
      Apache 2.2.x を利用しているかたも以下のドキュメントを使用できますが、
      DLL ファイルの名前を <var class="filename">php5apache2_2.dll</var>
      に読みかえてください。このファイルは PHP 5.2.0 以降にしか含まれません。
      <a href="http://snaps.php.net/" class="link external">&raquo; http://snaps.php.net/</a>
      も参照ください。
     <br />
    </p></blockquote>
    
    <div class="warning"><b class="warning">警告</b><p class="para">
Apache2 の MPM マルチスレッドモードを実運用環境で使用することは推奨されません。
代わりに prefork MPM を使ってください。これは Apache 2.0 および 2.2
におけるデフォルトの MPM です。prefork MPM を使う理由については、
<a href="faq.installation.html#faq.installation.apache2" class="link">マルチスレッド版 MPM の Apache2</a>の
FAQ エントリを参照してください。</p></div>
    
    <p class="para">
     <a href="http://httpd.apache.org/docs/2.2/" class="link external">&raquo; Apache ドキュメンテーション</a>
     を参照し、Apache 2.0.x の基本的な事項について理解しておくことを
     強く推奨します。また、以下の解説を読む前に、Apache 2.0.x に関する
     <a href="http://httpd.apache.org/docs/2.2/platform/windows.html" class="link external">&raquo; Windows 固有の情報</a>
     についても参照すると良いでしょう。
    </p>
    
    



<blockquote><p><b class="note">注意</b>: 
 <b>PHP と Apache 2.0.x の互換性に関する注意</b><br />
 
  PHP の以下のバージョンは、Apache 2.0.x の最新版での動作が確認されています。
  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">
     PHP 4.3.0 およびそれ以降
     (<a href="http://www.php.net/downloads.php" class="link external">&raquo; http://www.php.net/downloads.php</a> で入手可能)
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     最新の安定開発版。
     ソースコード <a href="http://snaps.php.net/php5-latest.tar.gz" class="link external">&raquo; 
      http://snaps.php.net/php5-latest.tar.gz</a> を入手、または Windows 用のバイナリ
     <a href="http://snaps.php.net/win32/php5-win32-latest.zip" class="link external">&raquo; 
      http://snaps.php.net/win32/php5-win32-latest.zip</a> をダウンロードしてください。
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     プレリリース版を
     <a href="http://qa.php.net/" class="link external">&raquo; http://qa.php.net/</a> から
     ダウンロード可能です。
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <a href="http://php.net/svn.php" class="link external">&raquo; anonymous SVN</a> から PHP を
     入手することも可能です。
    </span>
   </li>
  </ul>
  以上のバージョンの PHPは、Apache 2.0.40 以降と互換性があります。
 <br />
 
  Apache 2.0 <i>SAPI</i> のサポートは PHP 4.2.0 で開始されました。
  PHP 4.2.3 は Apache 2.0.39 で動作します。PHP 4.2.3 を Apache の他のバージョンと
  組み合わせて使用しないでください。
  PHP 4.3.0 もしくはそれ以降のバージョンの PHP を
  最新版の Apache2 と組み合わせて使用することが推奨されます。
 <br />
 
  ここで挙げたバージョンの PHP は、Apache 1.3.x でも動作します。
 <br />
</p></blockquote>




    <div class="warning"><b class="warning">警告</b>
     <p class="para">
      Apache 2.0.x は Windows NT 4.0, Windows 2000 および
      Windows XP で動作するように設計されています。現時点では、Windows 9x のサポートは
      不完全です。
     </p>
    </div>
    <p class="para">
     最新の <a href="http://httpd.apache.org/" class="link external">&raquo; Apache 2.0.x</a> と、対応する
     バージョンの PHP をダウンロードしてください。
     <a href="install.windows.manual.html" class="link">マニュアルインストールの手順</a>
     を実施したら、引き続き以下のとおり PHP と Apache の設定を行ってください。
    </p>
    <p class="para">
     PHP を Windows 上の Apache 2.0.x で動作させるには、2種類の方法が
     あります。一つは、CGI バイナリを使用する方法、もう一つ
     は Apache モジュール DLL を使用する方法です。どちらの場合も 
     <var class="filename">httpd.conf</var> を編集して Apache が PHP を利用できるようにした後、
     Apache サーバを再起動する必要があります。
    </p>
    
    <blockquote><p><b class="note">注意</b>: <span class="simpara">Windows 上で
Apache 設定ファイルにパスの値を追加する際、例えば
<var class="filename">c:\directory\file.ext</var> に含まれるすべてのバックスラッシュは
<var class="filename">c:/directory/file.ext</var> のように前向きスラッシュに変換する必要があります。
また、ディレクトリを表す際には最後にスラッシュをつけなければなりません。
</span></p></blockquote>
    
    <div class="sect2" id="install.windows.apache2.cgi" name="install.windows.apache2.cgi">
     <h3 class="title">CGI バイナリの使用</h3>
    
     <p class="para">
      CGI 版のバイナリを使用する場合は、以下の行を Apache 設定ファイル
      <var class="filename">httpd.conf</var> へ追加してください。
      <div class="example">
       <p><b>例1 Apache 2.0 で CGI 版の PHP を使用する場合の設定</b></p>
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">ScriptAlias /php/ &quot;c:/php/&quot;
AddType application/x-httpd-php .php

# PHP 4 の場合
Action application/x-httpd-php &quot;/php/php.exe&quot;

# PHP 5 の場合
Action application/x-httpd-php &quot;/php/php-cgi.exe&quot;</pre>
</div>
       </div>

      </div>
     </p>
     <div class="warning"><b class="warning">警告</b><p class="para">
CGI モードで公開したサーバは、いくつかの脆弱性の標的となる可能性があります。
これらの攻撃からサーバを守る方法については、
<a href="security.cgi-bin.html" class="link">CGI セキュリティ</a>
のセクションを参照してください。</p></div>
    </div>
    
    <div class="sect2" id="install.windows.apache2.module" name="install.windows.apache2.module">
     <h3 class="title">Apache モジュールの使用</h3>
     <p class="para">
      Apache 2.0 でモジュール版の PHP を使用するには、
      以下の行を Apache 設定ファイル <var class="filename">httpd.conf</var> に追加してください。
      <div class="example">
       <p><b>例2 Apache 2.0 でモジュール版の PHP を使用する場合の設定</b></p>
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode"># PHP 4 の場合
LoadModule php4_module &quot;c:/php/php4apache2.dll&quot;
# sapi ディレクトリから php4apache2.dll をコピーするのを忘れないこと!
AddType application/x-httpd-php .php

# PHP 5 の場合
LoadModule php5_module &quot;c:/php/php5apache2.dll&quot;
AddType application/x-httpd-php .php

# php.ini の場所を設定
PHPIniDir &quot;C:/php&quot;</pre>
</div>
       </div>

      </div>
     </p>
     <blockquote><p><b class="note">注意</b>: 
      <span class="simpara">
       <var class="filename">c:/php/</var> は実際のパスにあわせて修正してください。
       LoadModule ディレクティブでは必ず <var class="filename">php4apache2.dll</var> または 
       <var class="filename">php5apache2.dll</var> を指定します。
       <var class="filename">php4apache.dll</var> および 
       <var class="filename">php5apache.dll</var> は <a href="install.windows.apache1.html" class="link">
       Apache 1.3.x</a> 用です。
      </span>
     </p></blockquote>
     <blockquote><p><b class="note">注意</b>: 
      
       コンテントネゴシエーションを使用する場合は、
       <a href="faq.installation.html#faq.installation.apache.multiviews" class="link">関連の FAQ</a>
       を参照してください。
      <br />
     </p></blockquote>
     <div class="warning"><b class="warning">警告</b>
      <p class="simpara">
       <em class="emphasis">バージョンの異なる PHP</em> の DLL ファイルを混ぜて使わないでください。
       DLL と PHP 拡張モジュールは、同一バージョンのファイルだけが
       組み合わせて使用可能です。
      </p>
     </div>
    </div>
   </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="install.windows.apache1.html">Apache 1.3.x （Microsoft Windows 用）</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="install.windows.sun.html">Sun, iPlanet, Netscape サーバ（Microsoft Windows 用）</a></div>
 <div class="up"><a href="install.windows.html">Windows システムへのインストール</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>

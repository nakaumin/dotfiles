<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>要件</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="oci8.setup.html">インストール/設定</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="oci8.installation.html">インストール手順</a></div>
 <div class="up"><a href="oci8.setup.html">インストール/設定</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="oci8.requirements" class="section">
  <h2 class="title">要件</h2>
  <p class="para">
   この拡張を使用するために Oracle クライアントライブラリが必要になります。
   Windows ユーザは <var class="filename">php_oci8.dll</var> を使用するために
   少なくともバージョン 10 以降のライブラリが必要になるでしょう。
  </p>
  <blockquote><p><b class="note">注意</b>: 
   
    この拡張モジュールは、Oracle 8 のクライアントライブラリをサポートしません。
    とはいえ、バージョン 9 以降のクライアントライブラリが
    Oracle 8 サーバへの接続をサポートする限りは
    Oracle 8 サーバに接続することが可能です。
   <br />
  </p></blockquote>
  <p class="para">
   要求される全てのファイルをインストールする最も簡便な方法は、
   Oracle Instant Client を使用することです。これは
   <a href="http://www.oracle.com/technology/tech/oci/instantclient/instantclient.html" class="link external">&raquo; http://www.oracle.com/technology/tech/oci/instantclient/instantclient.html</a>
   から取得可能です。
   OCI8 モジュールを動作させるには、Oracle Instant Client の
   「基本 (basic)」バージョンを導入するだけで十分です。
   Instant Client は ORACLE_SID もしくは ORACLE_HOME
   環境変数を設定する必要がありませんが、LD_LIBRARY_PATH と
   NLS_LANG を設定する必要があります。
  </p>
  <p class="para">
   この拡張モジュールを使用する前に Web デーモンのユーザでもある
   Oracle ユーザに対する Oracle 用環境変数が正しく設定されていることを
   確認してください。これらの変数は Web サーバを起動する
   <em class="emphasis">前に</em> 設定されていなければなりません。
   設定されている必要がある変数を以下に示します。
   <ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      ORACLE_HOME
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      ORACLE_SID
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      LD_PRELOAD
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      LD_LIBRARY_PATH
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      NLS_LANG
     </span>
    </li>
   </ul>
    頻繁にはないですが、TNS_ADMIN, TWO_TASK, ORA_TZFILE、
    そして ORA_NLS33, ORA_NLS10 あるいは
    NLS_* のような様々な Oracle の国際化設定用の変数を使用する場合は、
    Oracle のドキュメントを参照してください。
  </p>
  <p class="para">
   Web サーバーのユーザ用に環境変数を設定した後、Web サーバーのユーザ
   (nobody, www) をグループ oracle に追加してください。
  </p>
  <blockquote><p><b class="note">注意</b>: 
   <b>Web サーバが起動しないか、起動時にクラッシュする場合</b><br />
   
    Apache が pthread ライブラリにリンクされているかどうか
    次のように確認してください。
   <br />
   
    <div class="informalexample">
     <div class="example-contents screen">
<div class="cdata"><pre>
# ldd /www/apache/bin/httpd
   libpthread.so.0 =&gt; /lib/libpthread.so.0 (0x4001c000)
   libm.so.6 =&gt; /lib/libm.so.6 (0x4002f000)
   libcrypt.so.1 =&gt; /lib/libcrypt.so.1 (0x4004c000)
   libdl.so.2 =&gt; /lib/libdl.so.2 (0x4007a000)
   libc.so.6 =&gt; /lib/libc.so.6 (0x4007e000)
   /lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x40000000)
</pre></div>
     </div>
    </div>
   <br />
   
    libpthread がこの一覧にない場合、Apache
    を再インストールする必要があります。
   <br />
   
    <div class="informalexample">
     <div class="example-contents screen">
<div class="cdata"><pre>
# cd /usr/src/apache_1.3.xx
# make clean
# LIBS=-lpthread ./config.status
# make
# make install
</pre></div>
     </div>
    </div>
   <br />
   
    UnixWare のようないくつかのシステムでは、libpthread の代わりに
    libthread が使用されています。その場合、PHP と Apache は、
    EXTRA_LIBS=-lthread を configure に指定する必要があります。
   <br />
  </p></blockquote>
 </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="oci8.setup.html">インストール/設定</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="oci8.installation.html">インストール手順</a></div>
 <div class="up"><a href="oci8.setup.html">インストール/設定</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
